import{s as c}from"./index-BrJE6Ruv.js";const s="https://agrimeet.udehcoglobalfoodsltd.com/api/v1",a=()=>({"Content-Type":"application/json",Authorization:`Bearer ${c.getAccessToken()}`,Accept:"application/json"}),o=async r=>{if(!r.ok){if(r.status===401)throw c.clearAll(),new Error("Session expired. Please login again.");const e=await r.json().catch(()=>({}));throw new Error(e.message||`HTTP error! status: ${r.status}`)}return await r.json()},l=async(r=1)=>{try{const e=new URLSearchParams({page:r.toString()}),t=await fetch(`${s}/seller/products?${e.toString()}`,{method:"GET",headers:a()});return await o(t)}catch(e){throw console.error("Failed to fetch products:",e),e}},d=async r=>{try{const e=await fetch(`${s}/seller/products/${r}`,{method:"GET",headers:a()});return await o(e)}catch(e){throw console.error("Error fetching product:",e),e}},g=async r=>{try{let e,t=a();r instanceof FormData?(e=r,delete t["Content-Type"]):e=JSON.stringify(r);const n=await fetch(`${s}/seller/products`,{method:"POST",headers:t,body:e});return await o(n)}catch(e){throw console.error("Error creating product:",e),e}},w=async(r,e)=>{try{let t,n=a();e instanceof FormData?(t=e,t.append("_method","PUT"),delete n["Content-Type"]):t=JSON.stringify(e);const i=await fetch(`${s}/seller/products/${r}`,{method:e instanceof FormData?"POST":"PUT",headers:n,body:t});return await o(i)}catch(t){throw console.error("Error updating product:",t),t}},u=async r=>{try{const e=await fetch(`${s}/seller/products/${r}`,{method:"DELETE",headers:a()});return await o(e)}catch(e){throw console.error("Error deleting product:",e),e}},y=async()=>{try{const r=await fetch(`${s}/allcategories`,{method:"GET",headers:a()});return await o(r)}catch(r){throw console.error("Error fetching categories:",r),r}},f=async()=>{try{const r=await fetch(`${s}/seller/products/allUnits`,{method:"GET",headers:a()});return await o(r)}catch(r){throw console.error("Error fetching units:",r),r}},m=async(r,e)=>{try{const t=await fetch(`${s}/seller/products/${r}/variants`,{method:"POST",headers:a(),body:JSON.stringify(e)});return await o(t)}catch(t){throw console.error("Error creating variant:",t),t}},p=async r=>{try{const e=await fetch(`${s}/seller/products/${r}/variants`,{method:"GET",headers:a()});return await o(e)}catch(e){throw console.error("Error fetching variants:",e),e}},E=async(r,e)=>{try{const t=await fetch(`${s}/seller/products/${r}/variants/${e}`,{method:"GET",headers:a()});return await o(t)}catch(t){throw console.error("Error fetching variant:",t),t}},$=async(r,e,t)=>{try{const n=await fetch(`${s}/seller/products/${r}/variants/${e}`,{method:"PUT",headers:a(),body:JSON.stringify(t)});return await o(n)}catch(n){throw console.error("Error updating variant:",n),n}},T=async(r,e)=>{try{const t=await fetch(`${s}/seller/products/${r}/variants/${e}`,{method:"DELETE",headers:a()});return await o(t)}catch(t){throw console.error("Error deleting variant:",t),t}},b=async()=>{try{const r=await fetch(`${s}/seller/product-attributes`,{method:"GET",headers:a()});return await o(r)}catch(r){throw console.error("Error fetching product attributes:",r),r}},v=r=>({id:r.id,name:r.name,description:r.description,originalPrice:parseFloat(r.base_price),price:parseFloat(r.discount_price||r.base_price),discount:r.discount_price>0?r.discount_price:"",stock:r.stock_quantity,category:r.category||"Unknown",categoryId:r.category_id,status:r.status,is_published:r.status==="active",slug:r.slug,image:r?.thumbnail,images:Array.isArray(r.images)?r.images.filter(e=>e&&e.includes("http")):[],weight:r.weight,unit:r.unit?.name||"Unit",unitSymbol:r.unit?.symbol||"",seller:r.seller.name,variants:r.variants||[],createdAt:r.created_at,updatedAt:r.updated_at});export{y as a,f as b,g as c,u as d,b as e,m as f,l as g,d as h,p as i,T as j,E as k,$ as l,v as t,w as u};
