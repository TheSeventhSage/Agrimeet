import{c as d}from"./createLucideIcon-DTbf89oH.js";import{D as n,r as p,j as e}from"./index-BrJE6Ruv.js";import{T as m}from"./DashboardLayout-CbQpQ2VH.js";import{C as x}from"./circle-x-uQfptDzR.js";/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],U=d("user-check",h);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],C=d("user-x",y),b=async(r=1,t=20,s={})=>{try{const a={page:r,per_page:t,...s.search_global&&{search_global:s.search_global},...s.status&&s.status!=="all"&&{status:s.status},...s.sortBy&&{sortBy:s.sortBy},...s.sortOrder&&{sortOrder:s.sortOrder}};return await n.get("/admin/allCustomers",{searchParams:a})}catch(a){throw console.error("Error fetching customers:",a),a}},g=async(r,t="")=>{try{return await n.post(`/admin/users/${r}/suspend`,{reason:t})}catch(s){throw console.error(`Error suspending user ${r}:`,s),s}},w=async r=>{try{return await n.post(`/admin/users/${r}/unsuspend`)}catch(t){throw console.error(`Error unsuspending user ${r}:`,t),t}},f=async()=>{try{return await n.get("/admin/allCustomers",{searchParams:{per_page:1}})}catch(r){throw console.error("Error fetching user stats:",r),r}},S={getAllCustomers:b,suspendUser:g,unsuspendUser:w,getUserStats:f},_=({user:r,isOpen:t,onClose:s,onConfirm:a,isLoading:o})=>{const[c,i]=p.useState("");if(!t||!r)return null;const u=l=>{l.preventDefault(),a(c)};return e.jsx("div",{className:"fixed inset-0 bg-[rgba(0,0,0,.7)] flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-yellow-100 rounded-lg",children:e.jsx(m,{className:"w-6 h-6 text-yellow-600"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Suspend User"})]}),e.jsx("button",{onClick:s,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",disabled:o,children:e.jsx(x,{className:"w-5 h-5 text-gray-500"})})]})}),e.jsxs("form",{onSubmit:u,className:"p-6 space-y-4",children:[e.jsxs("p",{className:"text-gray-600",children:["Are you sure you want to suspend ",e.jsx("span",{className:"font-semibold",children:r.name}),"? This will revoke their access to the platform."]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reason for suspension (optional)"}),e.jsx("textarea",{value:c,onChange:l=>i(l.target.value),placeholder:"Enter reason for suspension...",rows:4,maxLength:255,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-yellow-500",disabled:o}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[c.length,"/255 characters"]})]}),e.jsxs("div",{className:"flex items-center gap-3 pt-4",children:[e.jsx("button",{type:"button",onClick:s,disabled:o,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:o,className:"flex-1 px-4 py-2 bg-yellow-600 text-white rounded-lg hover:bg-yellow-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:o?e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):"Suspend User"})]})]})]})})};export{_ as S,U,C as a,S as b,g as s,w as u};
