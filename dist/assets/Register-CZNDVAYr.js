import{r as l,b as S,f as R,j as e,s as A,L as h,d as i}from"./index-BrJE6Ruv.js";import{A as p}from"./AuthLayout-Q1YB1LSm.js";import{T as c}from"./TextFields-DVnu1YZV.js";import{P as x}from"./PasswordField-CSUFiy10.js";import{B as f}from"./Button-NP5qGopO.js";import{r as E}from"./validation-BVSLfvBr.js";import{h as L}from"./routingManager-C4lI7ZM2.js";import"./Logo-yv9J0Zw_.js";import"./BackgroundArt-Cv4ql44m.js";import"./house-B5NBqIRK.js";import"./createLucideIcon-DTbf89oH.js";function Y(){const[r,g]=l.useState({first_name:"",last_name:"",phone_number:"",email:"",password:"",password_confirmation:"",terms_accepted:!1}),[s,o]=l.useState({}),[b,j]=l.useState(""),[y,u]=l.useState(!1),[v,w]=l.useState(!1),N=S(),{register:_}=R(),t=m=>{const{name:n,value:a,type:k,checked:P}=m.target;g(d=>({...d,[n]:k==="checkbox"?P:a})),s[n]&&o(d=>({...d,[n]:""}))},C=async m=>{m.preventDefault();const n=E(r);if(Object.keys(n).length>0){o(n),i("Please correct the errors in the form");return}u(!0),o({});try{await _(r),w(!0),j("Redirecting..."),setTimeout(()=>{L()},1e3)}catch(a){a.errors?(o(a.errors),i("Registration failed. Please check the form for errors.")):a.message?(o({general:a.message}),i(a.message)):(o({general:"Registration failed. Please try again."}),i("Registration failed. Please try again."))}finally{u(!1)}};return v?e.jsx(p,{title:"Registration Successful!",subtitle:"Please check your email for the verification code.",children:e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 text-green-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),e.jsx("p",{className:"text-gray-600 mb-6",children:"We've sent a verification code to your email address. Please check your inbox and follow the instructions to complete your registration."}),e.jsx("p",{children:b}),e.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:["Email: ",A.getUserData()?.email||r.email]}),e.jsx(f,{className:"w-full",onClick:()=>N("/verify-otp"),children:"Verify Account Now"})]})}):e.jsx(p,{className:"py-20 md:py-16",title:"Create Your Account",subtitle:"Join thousands of farmers and buyers on our platform",footer:e.jsxs("p",{children:["Already have an account?"," ",e.jsx(h,{className:"text-brand-600 font-medium hover:underline",to:"/login",children:"Sign in"})]}),children:e.jsxs("form",{onSubmit:C,className:"space-y-4",children:[s.general&&e.jsx("div",{className:"text-sm text-red-600 bg-red-50 p-3 rounded-lg",children:s.general}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(c,{label:"First Name",name:"first_name",placeholder:"John",value:r.first_name,onChange:t,error:s.first_name}),e.jsx(c,{label:"Last Name",name:"last_name",placeholder:"Doe",value:r.last_name,onChange:t,error:s.last_name})]}),e.jsx(c,{label:"Phone Number",name:"phone_number",placeholder:"+23489806755",value:r.phone_number,onChange:t,error:s.phone_number}),e.jsx(c,{label:"Email",name:"email",type:"email",placeholder:"john@example.com",value:r.email,onChange:t,error:s.email}),e.jsx(x,{label:"Password",name:"password",placeholder:"Create a strong password",value:r.password,onChange:t,error:s.password}),e.jsx(x,{label:"Confirm Password",name:"password_confirmation",placeholder:"Confirm your password",value:r.password_confirmation,onChange:t,error:s.password_confirmation}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{id:"terms",name:"terms_accepted",type:"checkbox",checked:r.terms_accepted,onChange:t,className:"focus:ring-brand-500 h-4 w-4 text-brand-600 border-gray-300 rounded-sm"})}),e.jsxs("div",{className:"ml-3 text-sm",children:[e.jsxs("label",{htmlFor:"terms",className:"text-gray-700",children:["I agree to the"," ",e.jsx(h,{to:"/terms",className:"text-brand-600 hover:text-brand-500",children:"Terms and Conditions"})," ","and"," ",e.jsx(h,{to:"/privacy",className:"text-brand-600 hover:text-brand-500",children:"Privacy Policy"})]}),s.terms_accepted&&e.jsx("p",{className:"text-red-600 mt-1",children:s.terms_accepted})]})]}),e.jsx(f,{type:"submit",loading:y,className:"w-full",children:"Create Account"})]})})}export{Y as default};
