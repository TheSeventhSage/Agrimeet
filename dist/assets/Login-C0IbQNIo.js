import{r as i,f,j as e,L as u,d as g}from"./index-C7G52Pl0.js";import{A as j}from"./AuthLayout-BRca9sUv.js";import{T as b}from"./TextFields-2VSZusUE.js";import{P as N}from"./PasswordField-C1VGh-8Q.js";import{B as v}from"./Button-rTuh0BPh.js";import{l as w}from"./validation-BVSLfvBr.js";import"./Logo-DmsMbJO2.js";import"./BackgroundArt-Ct9Pe-Iv.js";import"./house-D2YIMOjc.js";import"./createLucideIcon-BK9ndVRo.js";function F(){const[t,p]=i.useState({email:"",password:""}),[s,a]=i.useState({}),[d,m]=i.useState(!1),{login:x}=f(),c=n=>{const{name:o,value:r}=n.target;p(l=>({...l,[o]:r})),s[o]&&a(l=>({...l,[o]:""}))},h=async n=>{if(n.preventDefault(),d)return;const o=w(t);if(Object.keys(o).length>0){a(o);return}m(!0),a({});try{await x(t)}catch(r){r.message==="ACCOUNT_SUSPENDED"?a({suspension:r.suspensionData}):r.message.includes("already in progress")?g("Please wait for the current operation to complete"):r.errors?a(r.errors):r.message?a({general:r.message}):a({general:"Login failed. Please try again."})}finally{m(!1)}};return e.jsx(j,{title:"Sign in to your seller account",subtitle:"Manage products, orders, and payouts",footer:e.jsxs("p",{children:["New seller?"," ",e.jsx(u,{to:"/register",className:"font-semibold underline",children:"Create an account"})]}),mode:"art",children:e.jsxs("form",{onSubmit:h,className:"space-y-4",children:[s.general&&e.jsx("div",{className:"text-sm text-red-600 bg-red-50 p-3 rounded-lg",children:s.general}),e.jsx(b,{label:"Email",name:"email",type:"email",placeholder:"you@example.com",value:t.email,onChange:c,error:s.email}),e.jsx(N,{label:"Password",name:"password",placeholder:"••••••••",value:t.password,onChange:c,error:s.password}),e.jsx("p",{className:"text-sm text-brand-700 text-end -mt-[15px]",children:e.jsx(u,{to:"/forgot-password",className:"font-semibold ml-2 no-underline hover:underline",children:"Forgot password?"})}),e.jsx(v,{type:"submit",loading:d,className:"w-full",children:"Sign In"}),s.suspension&&e.jsx("div",{className:"mt-4 p-4 bg-red-50 border border-red-200 rounded-lg",children:e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("svg",{className:"h-5 w-5 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),e.jsx("h3",{className:"text-sm font-bold text-red-800",children:"Account Suspended"})]}),e.jsxs("div",{className:"text-sm text-red-700 ml-7",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Reason:"})," ",s.suspension.reason]}),e.jsxs("p",{className:"mt-1",children:["You have been suspended",e.jsx("span",{className:"font-bold mx-1",children:s.suspension.count}),"time",s.suspension.count!==1?"s":"","."]})]})]})})]})})}export{F as default};
