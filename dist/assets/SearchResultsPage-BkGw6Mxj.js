import{r as l,u as N,j as e,L as p}from"./index-C7G52Pl0.js";import{a as w,N as P}from"./Navbar-1mEq2cdd.js";import{P as A,C as S}from"./package-DupdcTls.js";import{C}from"./chevron-left-MymTQRW8.js";import{M as F}from"./mail-NbWfCbZg.js";import{P as k}from"./phone-DsT_xwi1.js";import{M}from"./map-pin-DB9Cjm-f.js";import"./Logo-DmsMbJO2.js";import"./search-Rqr5aH3r.js";import"./createLucideIcon-BK9ndVRo.js";import"./user-CwMqLLM3.js";import"./x-B7cmv6PP.js";import"./download-DfCU7q1a.js";import"./twitter-BLgeYviX.js";const L=()=>{const[n,d]=l.useState([]),[f,m]=l.useState(!1),[a,x]=l.useState(1),[c,h]=l.useState(1),[b,g]=l.useState(0),[j]=N(),t=j.get("q")||"";l.useEffect(()=>{x(1)},[t]),l.useEffect(()=>{(async()=>{try{m(!0);const r={status:"active",search_global:t},i=await w.getAllProducts(a,12,r),u=Array.isArray(i?.data)?i.data:[];d(u),h(i?.meta?.last_page??1),g(i?.meta?.total??u.length)}catch(r){console.error("Failed to fetch search results:",r),d([]),h(1),g(0)}finally{m(!1)}})()},[a,t]);const o=s=>{s>=1&&s<=c&&(x(s),window.scrollTo({top:0,behavior:"smooth"}))},v=t?"Search Results":"Browse All Products",y=t?`Showing products matching "${t}"`:"Showing all available products";return e.jsx("div",{className:"space-y-8",children:e.jsxs("div",{className:"bg-white rounded-3xl shadow-lg border border-gray-100 overflow-hidden",children:[e.jsx("div",{className:"px-8 py-6 border-b border-gray-100",children:e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:v}),e.jsxs("p",{className:"text-gray-600",children:[y," (",b," products)"]})]})}),e.jsx("div",{className:"p-8",children:f?e.jsx("div",{className:"flex items-center justify-center py-20",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600"})}):n.length===0?e.jsxs("div",{className:"p-12 flex flex-col items-center justify-center text-center",children:[e.jsx("div",{className:"w-24 h-24 bg-gray-50 rounded-full flex items-center justify-center mb-6",children:e.jsx(A,{className:"w-12 h-12 text-gray-400"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No Products Found"}),e.jsxs("p",{className:"text-sm text-gray-500 max-w-lg",children:[`We couldn't find any products matching your search for "`,t,'".']})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:n.map(s=>(Array.isArray(s.variants)&&s.variants.reduce((r,i)=>r+(Number(i.stock_quantity)||0),0),e.jsxs("div",{className:"group relative bg-white border border-gray-100 rounded-3xl p-6 flex flex-col transition-all duration-300 transform hover:scale-[1.02] hover:shadow-lg",children:[e.jsx("div",{className:"relative mb-6 rounded-2xl overflow-hidden bg-gray-50",children:e.jsx("img",{src:s.thumbnail||"/api/placeholder/300/300",alt:s.name,className:"w-full h-48 object-cover transition-transform duration-300 group-hover:scale-110"})}),e.jsxs("div",{className:"relative flex flex-col flex-grow",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 truncate mb-2 group-hover:text-green-600",children:e.jsx(p,{to:`/details/${s.id}`,children:s.name})}),e.jsx("p",{className:"text-sm text-gray-500 truncate mb-4",children:s.seller?.store_name||"AgriMeet Farmer"}),e.jsx("div",{className:"flex-grow",children:e.jsxs("div",{className:"text-lg font-bold text-green-600",children:["$",Number(s.base_price).toFixed(2),e.jsxs("span",{className:"text-sm text-gray-500 font-normal",children:[" ","/ ",s.unit?.symbol||"unit"]})]})}),e.jsx(p,{to:`/details/${s.id}`,className:"mt-4 w-full text-center bg-green-50 text-green-600 px-4 py-3 rounded-xl font-semibold hover:bg-green-100 transition-all duration-300",children:"View Details"})]})]},s.id)))}),c>1&&e.jsxs("div",{className:"pt-8 mt-8 border-t border-gray-100 flex items-center justify-center gap-2",children:[e.jsx("button",{onClick:()=>o(a-1),disabled:a===1,className:"p-2 rounded-xl border border-gray-200 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:e.jsx(C,{className:"w-5 h-5"})}),e.jsx("div",{className:"flex items-center gap-2",children:[...Array(c).keys()].map(s=>{const r=s+1;return e.jsx("button",{onClick:()=>o(r),className:`w-10 h-10 rounded-xl font-semibold transition-all ${a===r?"bg-green-600 text-white shadow-lg":"border border-gray-200 hover:bg-gray-50"}`,children:r},r)})}),e.jsx("button",{onClick:()=>o(a+1),disabled:a===c,className:"p-2 rounded-xl border border-gray-200 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:e.jsx(S,{className:"w-5 h-5"})})]})]})})]})})},z=()=>e.jsxs("div",{className:"",children:[e.jsx(P,{}),e.jsx("div",{className:"max-w-full mx-auto px-3 sm:px-6 lg:px-8 py-8",children:e.jsx("div",{className:"space-y-8",id:"products",children:e.jsx(L,{})})}),e.jsx("footer",{className:"bg-white border-t border-gray-100",children:e.jsxs("div",{className:"max-w-full mx-auto px-3 sm:px-6 lg:px-8 py-12",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Contact Us"}),e.jsxs("div",{className:"space-y-3 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(F,{className:"w-4 h-4"}),e.jsx("span",{children:"hello@agrimeet.com"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(k,{className:"w-4 h-4"}),e.jsx("span",{children:"+1 (555) 123-4567"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(M,{className:"w-4 h-4"}),e.jsx("span",{children:"123 Farm Lane, AgriTown"})]})]})]})}),e.jsxs("div",{className:"border-t border-gray-100 mt-8 pt-8 text-sm text-gray-500 flex flex-col md:flex-row items-center justify-between gap-4",children:[e.jsxs("div",{children:["Â© ",new Date().getFullYear()," AgriMeet. All rights reserved."]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("a",{href:"/terms",className:"hover:text-green-600",children:"Terms"}),e.jsx("a",{href:"/privacy-policy",className:"hover:text-green-600",children:"Privacy"}),e.jsx("a",{href:"/faqs",className:"hover:text-green-600",children:"FAQ's"})]})]})]})})]});export{z as default};
