import{D as $,r as x,j as e,e as T,d as D}from"./index-BOLkSH9S.js";import{f as V,W as B,D as W,E as H}from"./DashboardLayout-BvCakflT.js";import{C as S}from"./star-C1ESBnNj.js";import{X}from"./x-C2LEswAj.js";import{F as q}from"./file-text-CticlOFV.js";import{P as A,C as J}from"./package-CKJSu7qp.js";import{C as k}from"./credit-card-ZC6Uwims.js";import{U as K}from"./user-CozA4sKy.js";import{A as Q}from"./arrow-right-Ck98pvwf.js";import{c as Y}from"./createLucideIcon-Df3o3GTg.js";import{C as M}from"./circle-check-big-DahogGvV.js";import{T as P}from"./truck-yp2CDNgS.js";import{C as E}from"./calendar-DsG1bE9y.js";import{M as L}from"./map-pin-BY2_uCYu.js";import{C as Z}from"./clock-ClWTmPxa.js";import{M as ee}from"./mail-BTVOn1DE.js";import{P as se}from"./phone-DkC1kBQq.js";import{S as re}from"./shield-COY4tII9.js";import{C as te}from"./copy-ZmRLPTuM.js";import{S as ae}from"./search-Ckn77Lrt.js";import{F as le}from"./funnel-BAYOSG7h.js";import{C as oe}from"./chevron-left-B0iQB9Pm.js";import{C as F}from"./circle-x-Bxs6Jh5B.js";import"./Logo-g0xKsfJ_.js";import"./house-CbQ0kLy2.js";import"./users-B4SWA-Gw.js";import"./file-check-CwXOnyIx.js";import"./shield-check-BosUqYmL.js";import"./circle-question-mark-CVrBAAd0.js";import"./message-circle-BHYE61eq.js";import"./BackgroundArt-ChQV54k0.js";/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],ne=Y("activity",de),ie=async(t={})=>{try{const o={};return t.search&&(o.search=t.search),t.status&&t.status!=="all"&&(o.status=t.status),await $.get("/admin/disputes",{params:o})}catch(o){throw console.error("Error fetching disputes:",o),o}},ce=async t=>{try{return await $.get(`/admin/disputes/${t}`)}catch(o){throw console.error(`Error fetching dispute ${t}:`,o),o}},xe=async(t,o)=>{try{return await $.post(`/admin/disputes/${t}/settle`,o)}catch(p){throw console.error(`Error settling dispute ${t}:`,p),p}},O={getAllDisputes:ie,getDisputeById:ce,settleDispute:xe},me=({dispute:t,onClose:o,onResolve:p})=>{const[b,u]=x.useState("overview");if(!t)return null;const{order:r,user:d}=t,n=(a,m="NGN")=>new Intl.NumberFormat("en-NG",{style:"currency",currency:m||"NGN"}).format(parseFloat(a||0)),h=a=>a?new Date(a).toLocaleString("en-NG",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",f=(a,m)=>{navigator.clipboard.writeText(a),T(`${m} copied to clipboard`)},y=a=>{switch(a?.toLowerCase()){case"open":return"bg-yellow-100 text-yellow-700 border-yellow-200";case"resolved":return"bg-green-100 text-green-700 border-green-200";case"settled":return"bg-green-100 text-green-700 border-green-200";case"rejected":return"bg-red-100 text-red-700 border-red-200";case"closed":return"bg-gray-100 text-gray-700 border-gray-200";default:return"bg-gray-100 text-gray-700"}},l=({label:a,value:m,subValue:c,icon:w,copyable:_})=>e.jsxs("div",{className:"flex flex-col items-start justify-between gap-2.5 py-3 border-b border-gray-200 last:border-0 hover:bg-gray-50 px-2 hover:rounded-lg transition-colors space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[w&&e.jsx(w,{className:"w-4 h-4 text-gray-400 mt-0.5"}),e.jsx("div",{children:e.jsx("p",{className:"text-sm text-gray-500",children:a})})]}),e.jsxs("div",{className:"text-right flex items-center gap-2 ml-4",children:[e.jsx("span",{className:"font-medium text-gray-900 text-sm",children:m||e.jsx("span",{className:"italic text-gray-300",children:"N/A"})}),c&&e.jsx("p",{className:"text-xs text-gray-400",children:c}),_&&m&&e.jsx("button",{onClick:()=>f(m,a),className:"text-gray-300 hover:text-brand-600 transition-colors",title:"Copy",children:e.jsx(te,{className:"w-3 h-3"})})]})]}),i=()=>e.jsxs("div",{className:"space-y-6 animate-in fade-in duration-300",children:[e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:[e.jsxs("div",{className:"p-4 border-b border-gray-100 bg-gray-50 flex justify-between items-center",children:[e.jsxs("h3",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(S,{className:"w-4 h-4 text-brand-600"}),"Dispute Status"]}),e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold border ${y(t.status)}`,children:t.status?.toUpperCase()})]}),e.jsxs("div",{className:"p-4 space-y-4",children:[e.jsxs("div",{className:"bg-red-50 p-4 rounded-lg border border-red-100",children:[e.jsx("p",{className:"text-xs text-red-500 font-bold uppercase tracking-wide mb-1",children:"Customer Reason"}),e.jsx("p",{className:"text-gray-900 font-medium",children:t.reason})]}),t.resolution&&e.jsxs("div",{className:"bg-green-50 p-4 rounded-lg border border-green-100",children:[e.jsx("p",{className:"text-xs text-green-600 font-bold uppercase tracking-wide mb-1",children:"Admin Resolution"}),e.jsx("p",{className:"text-gray-900",children:t.resolution})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[e.jsxs("h3",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(ne,{className:"w-4 h-4 text-brand-600"}),"Timeline Events"]}),e.jsxs("div",{className:"relative border-l-2 border-gray-200 ml-3 space-y-8",children:[e.jsxs("div",{className:"relative pl-6",children:[e.jsx("div",{className:"absolute -left-[9px] top-0 w-4 h-4 bg-blue-500 rounded-full border-4 border-white shadow-sm"}),e.jsx("p",{className:"text-xs text-gray-500 uppercase font-bold",children:"Order Placed"}),e.jsx("p",{className:"text-sm font-medium",children:h(r?.created_at)})]}),r?.paid_at&&e.jsxs("div",{className:"relative pl-6",children:[e.jsx("div",{className:"absolute -left-[9px] top-0 w-4 h-4 bg-green-500 rounded-full border-4 border-white shadow-sm"}),e.jsx("p",{className:"text-xs text-gray-500 uppercase font-bold",children:"Payment Confirmed"}),e.jsx("p",{className:"text-sm font-medium",children:h(r.paid_at)})]}),e.jsxs("div",{className:"relative pl-6",children:[e.jsx("div",{className:"absolute -left-[9px] top-0 w-4 h-4 bg-red-500 rounded-full border-4 border-white shadow-sm"}),e.jsx("p",{className:"text-xs text-gray-500 uppercase font-bold",children:"Dispute Opened"}),e.jsx("p",{className:"text-sm font-medium",children:h(t.created_at)})]}),e.jsxs("div",{className:"relative pl-6",children:[e.jsx("div",{className:"absolute -left-[9px] top-0 w-4 h-4 bg-gray-400 rounded-full border-4 border-white shadow-sm"}),e.jsx("p",{className:"text-xs text-gray-500 uppercase font-bold",children:"Last Updated"}),e.jsx("p",{className:"text-sm font-medium",children:h(t.updated_at)})]})]})]})]}),j=()=>e.jsx("div",{className:"space-y-6 animate-in fade-in duration-300",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-5",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-4 border-b border-gray-100 pb-2",children:"Order Information"}),e.jsx(l,{label:"Order Number",value:r?.order_number,copyable:!0,icon:A}),e.jsx(l,{label:"Order Status",value:r?.order_status,icon:M}),e.jsx(l,{label:"Fulfillment",value:r?.fulfillment_status,icon:P}),e.jsx(l,{label:"Payment Status",value:r?.payment_status,icon:k}),e.jsx(l,{label:"Order Date",value:h(r?.created_at),icon:E})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-5",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-4 border-b border-gray-100 pb-2",children:"Logistics"}),e.jsx(l,{label:"Tracking Number",value:r?.tracking_number,copyable:!0,icon:L}),e.jsx(l,{label:"Courier",value:r?.courier_name,icon:P}),e.jsx(l,{label:"Total Weight",value:`${r?.total_weight||"0.00"} kg`,icon:V}),e.jsx(l,{label:"Delivery Address ID",value:`#${r?.delivery_address_id}`,icon:L}),e.jsx(l,{label:"Delivered At",value:r?.delivered_at?h(r.delivered_at):"Not Delivered",icon:Z})]})]})}),N=()=>e.jsx("div",{className:"space-y-6 animate-in fade-in duration-300",children:e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"p-4 bg-gray-50 border-b border-gray-100",children:e.jsxs("h3",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(k,{className:"w-4 h-4 text-brand-600"}),"Financial Breakdown"]})}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider",children:"Customer Paid"}),e.jsxs("div",{className:"flex flex-col gap-2.5 justify-between py-2 border-b border-gray-50",children:[e.jsx("span",{className:"text-gray-600",children:"Items Total"}),e.jsx("span",{className:"font-medium",children:n(r?.total_amount,r?.currency)})]}),e.jsxs("div",{className:"flex flex-col gap-2.5 justify-between py-2 border-b border-gray-50",children:[e.jsx("span",{className:"text-gray-600",children:"Shipping Fees"}),e.jsx("span",{className:"font-medium",children:n(r?.shipping_amount,r?.currency)})]}),e.jsxs("div",{className:"flex flex-col gap-2.5 justify-between py-2 border-b border-gray-50",children:[e.jsx("span",{className:"text-gray-600",children:"Delivery Charge"}),e.jsx("span",{className:"font-medium",children:n(r?.delivery_charge,r?.currency)})]}),e.jsxs("div",{className:"flex flex-col gap-2.5 justify-between py-2 pt-4",children:[e.jsx("span",{className:"font-bold text-gray-900",children:"Total Paid"}),e.jsx("span",{className:"font-bold text-xl text-brand-600",children:n(Number(r?.total_amount)+Number(r?.shipping_amount),r?.currency)})]})]}),e.jsxs("div",{className:"space-y-3 relative md:pl-8 md:border-l border-gray-100",children:[e.jsx("h4",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider",children:"Seller Net"}),e.jsxs("div",{className:"flex flex-col gap-2.5 justify-between py-2 border-b border-gray-50",children:[e.jsx("span",{className:"text-gray-600",children:"Gross Sales"}),e.jsx("span",{className:"font-medium",children:n(r?.total_amount,r?.currency)})]}),e.jsxs("div",{className:"flex flex-col gap-2.5 justify-between py-2 border-b border-gray-50 text-red-500",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(S,{className:"w-3 h-3"})," Platform Commission"]}),e.jsxs("span",{className:"font-medium",children:["-",n(r?.total_commission,r?.currency)]})]}),e.jsxs("div",{className:"flex flex-col gap-2.5 justify-between py-2 pt-4",children:[e.jsx("span",{className:"font-bold text-gray-900",children:"Seller Earnings"}),e.jsx("span",{className:"font-bold text-xl text-green-600",children:n(r?.total_seller_earnings,r?.currency)})]})]})]})})]})}),v=()=>e.jsx("div",{className:"space-y-6 animate-in fade-in duration-300",children:e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 flex flex-col gap-6 items-start",children:[e.jsxs("div",{className:"flex-shrink-0  text-center md:text-left",children:[e.jsx("div",{className:"w-24 h-24 rounded-full bg-gray-100 overflow-hidden border-4 border-white shadow-lg mx-auto md:mx-0",children:e.jsx("img",{src:d?.profile_photo||`https://ui-avatars.com/api/?name=${d?.first_name}+${d?.last_name}`,alt:"Profile",className:"w-full h-full object-cover"})}),e.jsx("div",{className:"mt-3",children:e.jsx("p",{className:`text-xs font-bold px-2 py-1 rounded-full inline-block ${d?.user_status==="active"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:d?.user_status?.toUpperCase()})})]}),e.jsxs("div",{className:"flex-1 w-full grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-2",children:[e.jsxs("div",{className:"col-span-2 mb-2",children:[e.jsxs("h3",{className:"text-xl font-bold text-gray-900",children:[d?.first_name," ",d?.last_name]}),e.jsxs("p",{className:"text-sm text-gray-500",children:["User ID: #",d?.id]})]}),e.jsx(l,{label:"Email Address",value:d?.email,icon:ee,copyable:!0}),e.jsx(l,{label:"Phone Number",value:d?.phone_number,icon:se,copyable:!0}),e.jsx(l,{label:"Email Verified",value:d?.email_verified_at?"Verified":"Unverified",icon:re,subValue:d?.email_verified_at?h(d.email_verified_at):null}),e.jsx(l,{label:"Member Since",value:h(d?.created_at),icon:E}),e.jsxs("div",{className:"col-span-2 mt-4 bg-brand-50 rounded-xl p-4 flex justify-between items-center border border-brand-100",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-white rounded-lg text-brand-600",children:e.jsx(B,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-brand-900",children:"Wallet Balance"}),e.jsx("p",{className:"text-xs text-brand-600",children:"Available for withdrawal"})]})]}),e.jsx("span",{className:"text-xl font-bold text-brand-700",children:n(d?.wallet,r?.currency)})]})]})]})});return e.jsx("div",{className:"fixed inset-0 p-2 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 overflow-y-auto md:p-4",children:e.jsxs("div",{className:"bg-gray-50 w-full max-w-5xl rounded-2xl shadow-2xl flex flex-col max-h-[95vh] overflow-hidden animate-in fade-in zoom-in duration-200",children:[e.jsxs("div",{className:"px-6 py-4 bg-white border-b border-gray-200 flex items-center justify-between sticky top-0 z-10",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-red-50 text-red-600 rounded-lg",children:e.jsx(S,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-bold text-gray-900",children:["Dispute #",t.id]}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Order: ",e.jsx("span",{className:"font-mono text-gray-700",children:r?.order_number})]})]})]}),e.jsx("button",{onClick:o,className:"p-2 hover:bg-gray-100 rounded-full transition-colors text-gray-500",children:e.jsx(X,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[e.jsx("div",{className:"w-full md:w-64 bg-white border-r border-gray-200 flex flex-row md:flex-col overflow-x-auto md:overflow-visible",children:[{id:"overview",label:"Overview",icon:q},{id:"order",label:"Order & Logistics",icon:A},{id:"financials",label:"Financials",icon:k},{id:"customer",label:"Customer Profile",icon:K}].map(a=>e.jsxs("button",{onClick:()=>u(a.id),className:`flex items-center gap-3 px-6 py-4 text-sm font-medium border-b md:border-b-0 md:border-l-4 transition-all whitespace-nowrap
                                    ${b===a.id?"bg-brand-50 border-brand-500 text-brand-700":"border-transparent text-gray-500 hover:bg-gray-50 hover:text-gray-700"}`,children:[e.jsx(a.icon,{className:`w-4 h-4 ${b===a.id?"text-brand-600":"text-gray-400"}`}),a.label]},a.id))}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-6 bg-gray-50/50",children:[b==="overview"&&i(),b==="order"&&j(),b==="financials"&&N(),b==="customer"&&v()]})]}),e.jsxs("div",{className:"px-6 py-4 bg-white border-t border-gray-200 flex justify-end gap-3 sticky bottom-0 z-10",children:[e.jsx("button",{onClick:o,className:"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 font-medium transition-colors",children:"Close View"}),t.status==="open"&&p&&e.jsxs("button",{onClick:()=>p(t),className:"px-6 py-2 bg-brand-600 text-white rounded-lg font-medium hover:bg-brand-700 transition-colors shadow-sm flex items-center gap-2",children:["Take Action ",e.jsx(Q,{className:"w-4 h-4"})]})]})]})})},Be=()=>{const[t,o]=x.useState([]),[p,b]=x.useState(!0),[u,r]=x.useState(null),[d,n]=x.useState(!1),[h,f]=x.useState(!1),[y,l]=x.useState(""),[i,j]=x.useState("settled"),[N,v]=x.useState(!1),[a,m]=x.useState({search:"",status:"all",page:1}),[c,w]=x.useState({current_page:1,total_pages:1,total:0});x.useEffect(()=>{_()},[a]);const _=async()=>{try{b(!0);const s=await O.getAllDisputes(a),g=s.data?.data||s.data||[],C=s.data?.meta||{};o(Array.isArray(g)?g:[]),C.total&&w({current_page:C.current_page,total_pages:C.last_page,total:C.total})}catch(s){console.error("Error loading disputes:",s),D("Failed to load disputes")}finally{b(!1)}},z=s=>{r(s),n(!0)},I=s=>{r(s),n(!1),j("settled"),l(""),f(!0)},U=async()=>{if(!y.trim()){D("Please provide a reason for this decision");return}try{v(!0),await O.settleDispute(u.id,{resolution:y,status:i}),T(`Dispute marked as ${i}`),f(!1),l(""),_()}catch(s){console.error(s),D("Failed to process dispute resolution")}finally{v(!1)}},R=s=>{s>=1&&s<=c.total_pages&&m(g=>({...g,page:s}))},G=s=>{switch(s?.toLowerCase()){case"open":return"bg-yellow-100 text-yellow-700";case"settled":return"bg-green-100 text-green-700";case"resolved":return"bg-green-100 text-green-700";case"rejected":return"bg-red-100 text-red-700";case"closed":return"bg-gray-100 text-gray-700";default:return"bg-blue-50 text-blue-700"}};return e.jsxs(W,{children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Dispute Management"}),e.jsx("p",{className:"text-gray-600",children:"Handle and resolve customer disputes"})]}),e.jsxs("div",{className:"bg-white px-4 py-2 rounded-lg border border-gray-200 shadow-sm",children:[e.jsx("span",{className:"text-sm text-gray-500",children:"Total Disputes: "}),e.jsx("span",{className:"font-semibold text-gray-900",children:c.total})]})]}),e.jsx("div",{className:"bg-white p-4 rounded-xl border border-gray-200 shadow-sm mb-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(ae,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search by order ID or user...",value:a.search,onChange:s=>m(g=>({...g,search:s.target.value,page:1})),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-brand-500 focus:border-brand-500"})]}),e.jsxs("div",{className:"flex items-center gap-2 min-w-[200px]",children:[e.jsx(le,{className:"w-5 h-5 text-gray-400"}),e.jsxs("select",{value:a.status,onChange:s=>m(g=>({...g,status:s.target.value,page:1})),className:"w-full border-gray-300 rounded-lg focus:ring-brand-500 focus:border-brand-500",children:[e.jsx("option",{value:"all",children:"All Statuses"}),e.jsx("option",{value:"open",children:"Open"}),e.jsx("option",{value:"settled",children:"Settled"}),e.jsx("option",{value:"rejected",children:"Rejected"}),e.jsx("option",{value:"closed",children:"Closed"})]})]})]})}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-gray-500 uppercase",children:"Dispute ID"}),e.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-gray-500 uppercase",children:"Order"}),e.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-gray-500 uppercase",children:"Customer"}),e.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-gray-500 uppercase",children:"Reason"}),e.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-gray-500 uppercase",children:"Status"}),e.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-gray-500 uppercase",children:"Date"}),e.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-gray-500 uppercase text-right",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:p?e.jsx("tr",{children:e.jsx("td",{colSpan:"7",className:"px-6 py-8 text-center",children:e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-brand-600"})})})}):t.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"7",className:"px-6 py-8 text-center text-gray-500",children:"No disputes found."})}):t.map(s=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsxs("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:["#",s.id]}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(A,{className:"w-4 h-4 text-gray-400"}),e.jsx("span",{className:"text-sm text-gray-600",children:s.order?.order_number||"N/A"})]})}),e.jsxs("td",{className:"px-6 py-4 text-sm text-gray-900",children:[s.user?.first_name," ",s.user?.last_name]}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("p",{className:"text-sm text-gray-900 truncate max-w-[200px]",title:s.reason,children:s.reason})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium capitalize ${G(s.status)}`,children:s.status})}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:new Date(s.created_at).toLocaleDateString()}),e.jsx("td",{className:"px-6 py-4 text-right",children:e.jsx("button",{onClick:()=>z(s),className:"p-2 hover:bg-gray-100 rounded-lg text-gray-500 transition-colors",title:"View Details",children:e.jsx(H,{className:"w-5 h-5"})})})]},s.id))})]})}),!p&&t.length>0&&e.jsxs("div",{className:"bg-gray-50 px-6 py-4 border-t border-gray-200 flex items-center justify-between",children:[e.jsxs("span",{className:"text-sm text-gray-500",children:["Page ",c.current_page," of ",c.total_pages]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>R(c.current_page-1),disabled:c.current_page===1,className:"p-2 border rounded-lg hover:bg-white disabled:opacity-50 disabled:cursor-not-allowed",children:e.jsx(oe,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>R(c.current_page+1),disabled:c.current_page===c.total_pages,className:"p-2 border rounded-lg hover:bg-white disabled:opacity-50 disabled:cursor-not-allowed",children:e.jsx(J,{className:"w-4 h-4"})})]})]})]}),d&&u&&e.jsx(me,{dispute:u,onClose:()=>n(!1),onResolve:I}),h&&u&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white w-full max-w-lg rounded-xl shadow-xl p-6 animate-in fade-in zoom-in duration-200",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900",children:["Resolve Dispute #",u.id]}),e.jsx("button",{onClick:()=>f(!1),className:"text-gray-400 hover:text-gray-600",children:e.jsx(F,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Outcome Decision"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("button",{onClick:()=>j("settled"),className:`flex flex-col items-center justify-center p-4 rounded-xl border-2 transition-all ${i==="settled"?"border-green-500 bg-green-50 text-green-700":"border-gray-200 hover:border-green-200 hover:bg-gray-50"}`,children:[e.jsx(M,{className:`w-6 h-6 mb-2 ${i==="settled"?"text-green-600":"text-gray-400"}`}),e.jsx("span",{className:"font-semibold text-sm",children:"Settle Dispute"})]}),e.jsxs("button",{onClick:()=>j("rejected"),className:`flex flex-col items-center justify-center p-4 rounded-xl border-2 transition-all ${i==="rejected"?"border-red-500 bg-red-50 text-red-700":"border-gray-200 hover:border-red-200 hover:bg-gray-50"}`,children:[e.jsx(F,{className:`w-6 h-6 mb-2 ${i==="rejected"?"text-red-600":"text-gray-400"}`}),e.jsx("span",{className:"font-semibold text-sm",children:"Reject Dispute"})]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:i==="settled"?"Resolution Details":"Rejection Reason"}),e.jsx("textarea",{value:y,onChange:s=>l(s.target.value),placeholder:i==="settled"?"Explain how the dispute was settled (e.g., refund processed, replacement sent)...":"Explain why the dispute is being rejected...",className:"w-full h-32 px-3 py-2 border border-gray-300 rounded-lg focus:ring-brand-500 focus:border-brand-500 resize-none text-sm"})]}),e.jsxs("div",{className:"flex gap-3 justify-end pt-4 border-t border-gray-100",children:[e.jsx("button",{onClick:()=>f(!1),className:"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 font-medium",children:"Cancel"}),e.jsx("button",{onClick:U,disabled:N,className:`px-4 py-2 text-white rounded-lg font-medium shadow-sm flex items-center gap-2 disabled:opacity-50 transition-colors ${i==="settled"?"bg-green-600 hover:bg-green-700":"bg-red-600 hover:bg-red-700"}`,children:N?"Processing...":i==="settled"?"Confirm Settlement":"Confirm Rejection"})]})]})})]})};export{Be as default};
